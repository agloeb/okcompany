<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>O.K. operation</title>
        <link rel="stylesheet" href="/public/operator.css">
        <link rel="preload" as="image" href="/public/img/operator/OPERATORbkg.png">
        <link rel="preload" as="image" href=/public/img/operator/OPERATORbkgOK.png>
        <script>
            function mouseover(x){
            switch (x) {
                case 'ok':
                    {
                    document.getElementById("base-image").src="/public/img/operator/OPERATORbkgOK.png"
                    };
                }}
        function mouseleave() {
            document.getElementById("base-image").src="/public/img/operator/OPERATORbkg.png";
            }

            document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.toggle-image');

            images.forEach(image => {
                if (!image.hasAttribute('data-original-src')) {
                    image.setAttribute('data-original-src', image.src);
                }

                image.addEventListener('click', function() {
                    const currentSrc = image.src;
                    const originalSrc = image.getAttribute('data-original-src');
                    const altSrc = image.getAttribute('data-alt-src');

                    console.log(`Click on ${image.id}: currentSrc=${currentSrc}, originalSrc=${originalSrc}, altSrc=${altSrc}`);

                    // Toggle the image source
                    if (currentSrc.endsWith(altSrc)) {
                        image.src = originalSrc;
                    } else {
                        image.src = altSrc;
                    }

                    console.log(`After click: newSrc=${image.src}`);
                });
            });
        });

        </script>
    </head>
        <body>
            <div class="control-panel">
                <img src="/public/img/operator/OPERATORbkg.png" class="base-image" id="base-image" usemap="#image-map">
                    <map name="image-map">
                        <area onmouseover="mouseover('ok')" onmouseleave="mouseleave()" target="" alt="ok" title="ok" href="index.html" coords="83,73,47" shape="circle">
                    </map>
                <div class="buttons">
                    <img src="/public/img/operator/OPERATORsynchroOFF.png" class="button-image1 toggle-image" id="synchro" data-alt-src="/public/img/operator/OPERATORsynchroON.png">
                    <img src="/public/img/operator/OPERATORheadhouseOFF.png" class="button-image2 toggle-image" id="headhouse" data-alt-src="/public/img/operator/OPERATORheadhouseON.png">
                    <img src="/public/img/operator/OPERATORratOFF.png" class="button-image3 toggle-image" id="rat" data-alt-src="/public/img/operator/OPERATORratON.png">
                    <img src="/public/img/operator/door.png" class="button-image4 toggle-image" id="kauai_door" data-alt-src="/public/img/operator/kauai.png">
                </div>
            </div>
        </body>
</html> 
